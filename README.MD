# Raja Chor Mantri Sipahi

A simple **Python** implementation of the traditional role-playing game "Raja Chor Mantri Sipahi" (King, Minister, Thief, Police). We used to play this game when I was a child. I remember it was a lot of fun.

> **Note**: This project starts as a **Beginner** level project and evolves into an **Intermediate** level project in Phase 3.

## Phase 1 & 2: Beginner friendly

Initially, this project was designed for learning Game Development in Python without complex frameworks.
- Single file logic.
- Simple synchronous code.
- Check `main.py` for the code.

## Phase 3: Intermediate upgrade (`WebSocket multiplayer`)

In Phase 3, we leveled up the complexity to introduce **Distributed System** concepts!
- **Client-Server Architecture**: The game is split into a Server (Game Master) and Clients (Players).
- **Asynchronous Programming**: Uses Python's `asyncio` for handling multiple players at once.
- **WebSockets**: Real-time communication between server and clients.
- **Bot Integration**: The server automatically fills empty slots with "Smart Bots" if human players are missing.

### Project Structure
```
raja_chor_multiplayer/
├── server.py            # Entry point for the Server
├── client.py            # Entry point for the Client
├── game/                # Shared Logic & Classes
│   ├── __init__.py
│   ├── engine.py        # The State Machine (Scores, logic)
├── requirements.txt     # Dependencies (websockets)
├── template/            # Web Frontend
│   ├── index.html       # Web Frontend
├── README.md
└── main.py              # Phase 1 & 2 code
```

### Installation
```bash
git clone https://github.com/jaygaha/raja_chor_matri_sipahi.git
cd raja_chor_matri_sipahi
# Activate virtual environment
python -m venv .venv
source .venv/bin/activate # On Linux/Mac
# OR
.venv\Scripts\activate # On Windows
```

### Prerequisites (Phase 3)
To play the multiplayer version, you need to install the dependencies:
```bash
pip install -r requirements.txt
```
*(Requires `websockets` library)*

## Roles & Points
- **Raja** (King): 1000 Points
- **Mantri** (Minister): 800 Points
- **Sipahi** (Police): 500 Points
- **Chor** (Thief): 0 Points

## Intelligent bots
The bots in this game have personalities!
1.  **Tracker Bot**: Tracks history (Gambler's Fallacy). "He hasn't been chor in a while!"
2.  **Hunter Bot**: Targets the leader. "I need to take down the winner!"
3.  **Random Bot**: Just guesses randomly.

## How to Play (Multiplayer)

### 1. Start the Server
The Server acts as the Game Master. It handles the specific game rules.
```bash
python server.py
```

### 2. Start Clients
Open new terminal windows for each player and run:
```bash
python client.py
```

### 3. Host Setup
The **First Player** to join becomes the **Host**.
- The Host configures the game:
  - **Number of Humans** (1-4).
  - **Number of Rounds** (3-20).
- If you start a game with "1 Human", the server fills the other 3 slots with Bots immediately!

## Phase 4: Web Frontend
A modern, visual alternative to the CLI client.
> **Design**: The frontend UI was completely designed and generated by AI to look premium and engaging.

### How to Play (Web)
Template design and animations are generated by AI.

1.  Start the Server: `python server.py`
2.  Serve the web files:
    ```bash
    python -m http.server 8000 --directory template
    ```
3.  Open browser to: `http://localhost:8000`
4.  Enter your name and Join.

_(Note: You can play mixed games with some players on CLI and others on Web!)_

## Future Next Steps
- [x] **Phase 1:** Core Game Logic
- [x] **Phase 2:** Smarter Bot AI (Personalities)
- [x] **Phase 3:** WebSocket server for multiplayer
- [x] **Phase 4:** Web frontend interface

## Nice to have
- [ ] Room Management (Multiple rooms)
- [ ] Unit Tests
- [ ] Persistent Storage (SQLite Database)
- [ ] Documentation

## Contributing
Feedback is welcome! Please open an issue or submit a pull request.

* Appreciated if you give it a star!

## Credits
Based on the traditional game "Raja Mantri Chor Sipahi".
- Wikipedia: https://en.wikipedia.org/wiki/Raja_Chor_Mantri_Sipahi